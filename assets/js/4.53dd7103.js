(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{162:function(t,s,a){t.exports=a.p+"assets/img/iphonex_4.7d2b50ea.png"},163:function(t,s,a){t.exports=a.p+"assets/img/iphonex_1.8ff992f4.png"},164:function(t,s,a){t.exports=a.p+"assets/img/949019-20171106205332075-1346398687.75e3f858.png"},165:function(t,s,a){t.exports=a.p+"assets/img/949019-20171106205642513-1610316669.3a2ba383.png"},194:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h4",{attrs:{id:"一、适配iphonex背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、适配iphonex背景","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、适配iphoneX背景")]),t._v(" "),n("p",[t._v("iPhoneX及以上新出机型取消了物理按键，改成底部小黑条，这一改动导致网页出现了比较尴尬的屏幕适配问题。对于网页而言，顶部（刘海部位）的适配问题浏览器已经做了处理，所以我们只需要关注底部与小黑条的适配问题即可（即常见的吸底导航、返回顶部等各种相对底部 fixed 定位的元素）。")]),t._v(" "),n("h4",{attrs:{id:"二、iphonex的安全区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、iphonex的安全区","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、iphoneX的安全区")]),t._v(" "),n("p",[t._v("安全区域指的是一个可视窗口范围，处于安全区域的内容不受圆角（corners）、齐刘海（sensor housing）、小黑条（Home Indicator）影响，如下图蓝色区域：\n"),n("img",{attrs:{src:a(162),alt:"image"}}),t._v("\n我们想要做好适配,就要保证页面可视可操作的区域在安全区内;")]),t._v(" "),n("h4",{attrs:{id:"三、储备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、储备","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、储备")]),t._v(" "),n("p",[n("code",[t._v("viewport-fit")]),t._v(" viewport-fit:苹果公司为了适配iPhoneX及以上新机型,特别在ios11版本以上新扩展了meta-viewport标签,新增了viewport-fit属性,用于设置网页在可视窗口的布局方式,可设置三个值分别为:")]),t._v(" "),n("p",[t._v("contain:可视窗口完全包含网页内容;(左图) "),n("code",[t._v("contain")])]),t._v(" "),n("p",[t._v("cover:网页内容完全覆盖可视窗口;(右图) "),n("code",[t._v("cover")])]),t._v(" "),n("p",[t._v("auto:默认值,等同contain; "),n("code",[t._v("auto")]),t._v(" "),n("img",{attrs:{src:a(163),alt:"image"}})]),t._v(" "),n("p",[n("code",[t._v("env函数")]),t._v(" env函数:同样是ios11版本以上新增的一个特性,Webkit 的一个 CSS 函数，用于设定安全区域与边界的距离，有四个预定义的变量:\nsafe-area-inset-left: 安全区域距离左边边界距离 safe-area-inset-left")]),t._v(" "),n("p",[t._v("safe-area-inset-right:安全区域距离右边边界距离 safe-area-inset-right")]),t._v(" "),n("p",[t._v("safe-area-inset-top:安全区域距离顶部边界距离 safe-area-inset-top")]),t._v(" "),n("p",[t._v("safe-area-inset-bottom:安全区域距离底部边界距离 safe-area-inset-bottom")]),t._v(" "),n("p",[t._v("直观感受看下图:\n"),n("img",{attrs:{src:a(164),alt:"image"}}),t._v(" "),n("img",{attrs:{src:a(165),alt:"image"}})]),t._v(" "),n("p",[t._v("竖屏时:safe-area-inset-left=0; safe-area-inset-right=0; safe-area-inset-top=78px(不建议用具体值); safe-area-inset-bottom=34px(不建议用具体值);")]),t._v(" "),n("p",[t._v("横屏时:safe-area-inset-top=0;")]),t._v(" "),n("p",[t._v("!!! "),n("code",[t._v("注意")]),t._v(" safe-area-inset-bottom 这个变量,对应的就是小黑条的高度(横竖屏时值不一样).")]),t._v(" "),n("h4",{attrs:{id:"四、具体适配方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、具体适配方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 四、具体适配方案")]),t._v(" "),n("p",[t._v("1:全页面适配:")]),t._v(" "),n("p",[t._v("第一步:meta标签设置: (iphoneX全屏展示)\n"),n("code",[t._v('<meta content="...viewport-fit=cover">')]),t._v("\n第二步:将网页设置在安全区域内:(此步骤不处理的话,页面会全屏溢出展示,页面无操作按钮纯展示等特殊需求时可不做处理)")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("padding-top")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-top"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("padding-left")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-left"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("padding-right")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-right"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("padding-bottom")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("第三步:fixed元素适配:(完全吸底按钮bottom=0)!!!必须有背景色,不然最底层会镂空 "),n("em",[t._v("注意")])]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{attrs:{class:"token selector"}},[t._v("btns")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("padding-bottom")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("background-color")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" white"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("或")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{attrs:{class:"token selector"}},[t._v("btns")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("height")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("calc")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("60px")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("之前默认高度"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token property"}},[t._v("background-color")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" white"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("2.筛选将适配方案只添加给目标机型:方案1:媒体查询(靠谱);2.ios新特性判断(不可用)")]),t._v(" "),n("p",[t._v("方案一:媒体查询")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{attrs:{class:"token selector"}},[t._v("@media only screen and (device-width: 375px) and (device-height: 812px) and\n(-webkit-device-pixel-ratio: 3)")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token selector"}},[t._v("btns")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("方案二:ios新特性判断(根据是否有支持ios11 增加新特性安全区域来判断是不是iphoneX，判断的是系统，不是机型，所以对于其他安装了iOS11以上的机子会有问题。)")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{attrs:{class:"token atrule"}},[n("span",{attrs:{class:"token rule"}},[t._v("@supports")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token property"}},[t._v("bottom")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("constant")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-top"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" or "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token property"}},[t._v("bottom")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("env")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-top"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("  "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token selector"}},[t._v("btns")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("..."),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}],e=a(0),o=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=o.exports}}]);